@import ix.core.controllers.NamespaceFactory
@import ix.core.models.Namespace
@import ix.core.search.TextIndexer.Facet

@(title: String, target: Facet, disease: Facet, ligand: Facet)

@fcol(name: String, facet: Facet) = {
<td>
   @if(facet != null) {
      @for(f <- facet.getValues()) {
          @if(name.equals(f.getLabel())) {
  	    @f.getCount()
	  }
       }
   }
</td>
}

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge">

        <title>@title</title>
        <link rel="stylesheet"
        href='@routes.WebJarAssets.at(WebJarAssets.locate("bootstrap.min.css"))'>
        <link rel="stylesheet" type="text/css"
        href='@routes.WebJarAssets.at(WebJarAssets.locate("font-awesome.min.css"))'>
        <link rel="stylesheet" type="text/css"
        href='@routes.Assets.at("ncats/css/idg-landing-hex.css")'>
            <!--[if lte IE 9]>
     <style>
     .count {
      margin-top:95%;
      margin-right:1%;
      }
      </style>
      <![endif]-->
            <!--[if lte IE 9]>
<style type="text/css">
#ie6msg {border:3px solid #c33; margin:8px 0; background:#fcc; color:#000;}
#ie6msg h4{margin:8px; padding:0;}
#ie6msg p{margin:8px; padding:0;}
#ie6msg p a.getie7{font-weight:bold; color:#006;}
#ie6msg p a.ie6expl{font-weight:bold; color:#006;}
</style>
<div id="ie6msg">
<h4>Did you know that your browser is out of date, and potentially poses a security risk?</h4>
<p>To get the best possible experience using this website it is recommended that you upgrade your browser to a newer version. 
<p>You could also try some other popular browsers like <a class="ie6expl" href="http://mozilla.com">FireFox</a> or
 <a class="ie6expl" href="https://www.google.com/chrome/S">Chrome</a>.</p>
</div>
<![endif]-->
        <script src='@routes.WebJarAssets.at(WebJarAssets.locate("jquery.min.js"))'
        type='text/javascript'></script>
        <script src='@routes.WebJarAssets.at(WebJarAssets.locate("bootstrap.min.js"))'></script>
        <script src='@routes.WebJarAssets.at(WebJarAssets.locate("typeahead.bundle.min.js"))'></script>
        <script src='@routes.WebJarAssets.at(WebJarAssets.locate("handlebars.min.js"))'></script>
        <script src='@routes.WebJarAssets.at(WebJarAssets.locate("bloodhound.min.js"))'></script>
    </head>
    <body>
        <div class="container vertical-center" id="main-box">
            <div class="row">
                <center>
                    <a href='@ix.idg.controllers.routes.IDGApp.index()'>
                        <img src='@routes.Assets.at("ncats/images/Pharos_Logo_Rd8.svg")' class = "img-responsive" id="pharos" />
                    </a>
                </center>
                <p>Pharos is the user interface for the NIH funded <a href="http://commonfund.nih.gov/idg/overview">IDG project</a>
                    (<a href="http://projectreporter.nih.gov/project_info_description.cfm?aid=8785271&icde=24069131&ddparam=&ddvalue=&ddsub=&cr=3&csb=default&cs=ASC">
                        U54 CA189205-01</a>) and the primary interface by which users explore
                    and prioritize the dark matter of the GPCR, nuclear receptor, ion channel and kinase target
                    space. It presents a comprehensive yet facile interfaces to the data collected by the IDG Knowledge Management
                    Center. In addition Pharos exposes a programmatic API
                    that will enable the frictionless inclusion of IDG data and methods into
                    a user's own workflow and infrastructure.</p>

                <p>The data and meta-data that is made available via this interface is obtained from multiple sources, listed below.
                </p>
            </div>
            <p></p>
            <div class="row">
                <div class="col-xs-3">
                    <a href="http://www.unm.edu">
                        <img src='@routes.Assets.at("ncats/images/about/unm.jpg")' class = "img-responsive" />
                    </a>
                </div>
                <div class="col-xs-3">
                    <a href="http://icahn.mssm.edu/">
                        <img src='@routes.Assets.at("ncats/images/about/mssm.png")' class = "img-responsive" />
                    </a>
                </div>
                <div class="col-xs-3">
                    <a href="http://www.ncats.nih.gov/">
                        <img src='@routes.Assets.at("ncats/images/about/ncats.jpg")' class = "img-responsive" />
                    </a>
                </div>
                <div class="col-xs-3">
                    <a href="http://www.miami.edu/">
                        <img src='@routes.Assets.at("ncats/images/about/umiami.jpg")' class = "img-responsive" />
                    </a>
                </div>
                <div class="col-xs-3">
                    <a href="http://www.uniprot.org/">
                        <img src='@routes.Assets.at("ncats/images/about/unipro.gif")' class = "img-responsive" />
                    </a>
                </div>
                <div class="col-xs-3">
                    <a href="http://www.cpr.ku.dk/research/disease-systems-biology/jensen/">
                        <img src='@routes.Assets.at("ncats/images/about/copenhagen.jpg")' class = "img-responsive" />
                    </a>
                </div>
                <div class="col-xs-3">
                    <a href="https://www.ebi.ac.uk/chembl/">
                        <img src='@routes.Assets.at("ncats/images/about/chembl.png")' class = "img-responsive" />
                    </a>
                </div>
		<div class="col-xs-3">
		  <a href="http://www.chemaxon.com">
		    <img src="http://www.chemaxon.com/images/freeweb-150.gif" alt="ChemAxon Freeweb Logo">
		  </a>
		</div>
            </div>
	    @** the counts are wrong at the moment
	    <div class="row">
	      <div class="col-md-6 col-md-offset-3">
		<div class="panel panel-default">
		  <div class="panel-body">
		    <table class="table table-striped">
		      <tr>
			<th>Source</th>
			<th>Target</th>
			<th>Disease</th>
			<th>Ligand</th>
		      </tr>
		      @for(ns <- NamespaceFactory.all()) {
		        <tr>
			  @if(ns.location != null) {
			    <td><a href="@ns.location">@ns.name</a></td>
			  } else {
			    <td>@ns.name</td>
			  }
			  @fcol(ns.name, target)
			  @fcol(ns.name, disease)
			  @fcol(ns.name, ligand)
			</tr>
	              }
	            </table>
		  </div>
		</div>
	      </div>
	    </div>
	    **@
            <div class="row">
	        <div class="col-md-6 col-md-offset-3">
	          <pre>build: @ix.ncats.views.txt.build()</pre>
                </div>
	    </div>
        </div>
    </body>
</html>
