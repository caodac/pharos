@import ix.ncats.controllers.reach.ProjectFactory
@import ix.ncats.models.Project
@import ix.core.models.PubAuthor
@import ix.ncats.models.NIHAuthor
@import ix.core.search.TextIndexer.Facet
@import scala.collection.JavaConversions._

@(query: String, current: Int, rows: Int, total: Int, pages: Array[Int],
     facets: Array[Facet], projects: List[Project])

@scripts = {
<script type='text/javascript'
	src='@routes.Assets.at("javascripts/slides.js")'></script>
	<script>
load();
$(document).ready(function() {
	$( "#tabs" ).tabs();
	 $(function () {
         var icons = {
             header:"ui-icon-triangle-1-e",
             activeHeader:"ui-icon-triangle-1-s"
         };
         $("#accordion").accordion({
             icons:icons,
             collapsible:true,
             heightStyle:"content"

         });

 });
});
  </script>
} 

@main("Projects", "NCATS Projects") {
<div class="row" id="searching">

	<div class="col-md-6 col-md-offset-3">
		<form class="navbar-form" role="search" method="GET"
            action="@ix.publications.controllers.routes.ReachApp.search("ix.ncats.models.Project")">
        <div class="form-group" id ="search-form">
          <input type="text" class="form-control" name="q" placeholder="Search..." id = "search-input">
          <span class="input-group-btn" id = "search-button">
				<button class="btn btn-default" id="pubSearch" type="search"
					style="font-size: 11pt;" value="submit">
					<span class="glyphicon glyphicon-search"></span>
				</button>
				</span>
        </div>
      </form>
	</div>
	</div>
<div class="row" id="pub-history">
		<div class="col-md-3 col-xs-4">
			<div class="panel panel-primary" style="width: 106%;">
                    <div class="panel-heading">
                        <h3 class="panel-title">Filter Results:</h3>
                    </div>
                    <!--END panel-heading-->
                    <div class="panel-body">
                    <div class= "row">
                    <div class = "col-md-7 col-md-offset-4" id = "buttons">
                     <button type="button" class="btn btn-default" id = "filter">Filter</button>
                     <button type="button" class="btn btn-default buttons" id="clear">Clear</button>
                     </div>
                     </div>
			 <div id="accordion">
 <!--           <h3>Year</h3>
				<div>
			<table id = "facet-Year">
				<thead ><tr class = "hidden"><th></th><th></th><th></th></tr></thead>
       				 <tbody ></tbody>
       				 </table>
</div>
-->

<h3 >Program</h3>
<div>
			<table id = "facet-SlideProgram">
				<thead ><tr class = "hidden"><th></th><th></th><th></th></tr></thead>
       				 <tbody ></tbody>
       				 </table>
</div>
<h3 >Subject</h3>
<div>
			<table id = "facet-SlideKeyword">
				<thead ><tr class = "hidden"><th></th><th></th><th></th></tr></thead>
       				 <tbody ></tbody>
       				 </table>
</div>
</div>
                    </div>
                    <!--END panel-body-->
                </div>
                <!--END panel panel-primary-->
            </div>
            <!--END col-md-8-->
            
            
            
		<div class="col-md-9 col-xs-8">
	<div class="panel panel-primary" id="projSlides">
		<div class="panel-heading">
			<h3 class="panel-title">Projects:</h3>
		</div>
		<!--END panel-heading-->
		<div class="panel-body" id="proj-main">
				 <div class="row">
				 <div class = "pages">
@pagination(current, 12, total, pages)
</div>
</div>
<div class="row" id="allSlides">
				  @for(p <- projects) {
             <div class = "col-md-4">
             <div class = "img-hover-parent img-hover-grow overlay-parent overlay-parent-slideup-title-black box ">
             <a href="projects/@p.id" title="" class="portfolio-entry-media-link">
             @if(!p.figures.isEmpty()){
			<img src ="@p.figures(1).getUrl()" class="img-responsive thumb" alt="@p.title">
			}else{
			@p.title
			}
			<div class="overlay-slideup-title black clr">
			<span class="title">@p.title</span>
			</div>
			</a>
			</div>
			</div>
          }
          </div>
 <div class="row">
				 <div class = "pages">
@pagination(current, 12, total, pages)
</div>
				 
				 </div>
			</div>
			</div>
		</div>
	</div>
}
