@(kind: String)


@wizardfields(kind: String) = {

@if(kind == "chemical") {
    <div>@forms.structureform()</div>
    <div>@forms.moietyform()</div>
    <div>@forms.officialnameform()</div>
    <div>@forms.nameform()</div>
    <div >@forms.codeform()</div>
    <div>@forms.relationshipform()</div>
    <div>@forms.noteform()</div>
    <div>@forms.propertyform()</div>
    <div ng-show="substance.references">@forms.referenceform()</div>
    <!-- Modal -->
    @forms.referencemodalform()
    @forms.amountmodalform()
    @forms.parametermodalform()


} else {
    @if(kind == "mixture") {
        @forms.nameform()
        <div ng-show="uniqueName">@forms.codeform()</div>
        @forms.referenceform()
        @forms.referencemodalform()
    } else {
        @if(kind == "protein") {
            @forms.subunitform()
            @forms.proteindetailsform()
            <div ng-show="uniqueName">@forms.disulfideform()</div>
            <div ng-show="uniqueName">@forms.modificationform()</div>
            <div ng-show="uniqueName">@forms.glycosylationform()</div>
            @forms.nameform()
            <div ng-show="uniqueName">@forms.codeform()</div>
            <div ng-show="substance.references"> @forms.referenceform()</div>
            @forms.referencemodalform()
        } else {
            @if(kind == "polymer") {
                @forms.nameform()
                <div ng-show="uniqueName">@forms.codeform()</div>
                @forms.referenceform()
                @forms.referencemodalform()
            } else {
                @if(kind == "structurallyDiverse") {
                    @forms.diversesourceform()
                    <div ng-show="sourceMaterialType=='Organism'">  </div>
                    @forms.diverseorganismform()
                    @forms.nameform()
                    <div ng-show="uniqueName">@forms.codeform()</div>
                    @forms.referenceform()
                    @forms.referencemodalform()
                } else {
                    @if(kind.toLowerCase() == "concept") {
                        @forms.nameform()
                        <div ng-show="uniqueName">@forms.codeform()</div>
                        @forms.referenceform()
                        @forms.referencemodalform()
                    } else {
                        <h2>Unknown substance class: @kind</h2>
                    }
                }
            }
        }
    }
}

}

@ginas("Register", kind) {
    @menu()
} {
    <h3></h3>
} {
    <h3></h3>
    <script src="/ginas/app/api/v1/vocabularies/?top=100&callback=window.CV_REQUEST="></script>
    <div ng-cloak>
        @wizardfields(kind)
        <div class = "row">
        <button ng-click="submitSubstance(substance)">Submit</button>
        <button ng-click="validateSubstance(substance)">Validate</button>
            </div>
        <div class = "row" ng-repeat="err in errorArray">
@*
          //  <error-window error = error></error-window>
*@
              <div class="col-md-9">
                  <div class="alert alert-danger alert-dismissible" role="alert">
                      <button type="button" class="close" data-dismiss="alert" aria-label="Close"> <span aria-hidden="true">&times;</span>
                      </button>
                      <span><h4>{{err.messageType}}</h4>&nbsp;{{err.message}} </span>




                  </div>
              </div>

        </div>
        <div class="row"><div class = "col-md-12">
            <textarea class="form-control" rows="10" ng-model="paste"></textarea>
            </div>
        </div>

        <button ng-click="submitpaster(paste)">paste</button>

        <pre>{{substance | json}}</pre>
    </div>
    <script>
        @*var renderUrl = '@ix.ncats.controllers.routes.App.render/';*@
        var strucUrl = '@ix.ncats.controllers.routes.App.molinstrument';
        var envurl='@ix.ncats.controllers.routes.App.smiles';
    </script>

    <script type="text/ng-template" id="tag-template-script">
    <div class="tag-template" >
    <div tooltip="{{data.citation}}">
    <span>{{$getDisplayText()}}</span>
    <a class="remove-button" ng-click="$removeTag()">&#10006;</a>
    </div>
    </div>
    </script>

    @fileimport() @addnamelist()
}

