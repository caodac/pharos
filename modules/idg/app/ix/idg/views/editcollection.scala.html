
@ix.core.views.html.main("Edit Collection") {
   <div class="site-wrapper">
      <div class="site-wrapper-inner">
         <div class="cover-container">
            <div class="inner cover">
              <h1 class="cover-heading">IDG Edit Collection</h1>
              <form class="form-horizontal" role="form" method="POST"
		    enctype="multipart/form-data"
                    action="@ix.idg.controllers.routes.IDGApp.createCollection()">
              <div class="form-group">
                <label for="file"
		       class="col-md-2 control-label">Json File</label>
                <div class="col-sm-10">
                  <input type="file" class="form-control" name="file"
			 id="file">
                </div>
              </div>
              <div class="form-group">
                <label for="name"
		       class="col-md-2 control-label">Name</label>
                <div class="col-sm-10">
                  <input type="text" class="form-control" name="name"
			 id="name" placeholder="Collection name">
                </div>
              </div>	      
              <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">
                  <button type="submit" class="btn btn-default">Add</button>
		  <button type="button" class="btn btn-default" id="delete-btn">Delete</button>
		  <button type="button" class="btn btn-default" id="cancel-btn">Cancel</button>		  
                </div>
              </div>
            </form>
           </div>
          </div>
        </div>
      </div>
}


<script>
$(document).ready(function () {
   $('#delete-btn').on('click', function() {
      var col = $('#name').val();
      console.log('deleting collection "'+col+'"');
      $.ajax({
         url: '@ix.idg.controllers.routes.IDGApp.delCollection("")'+col,
	 method: 'DELETE',
	 success: function (mesg) {
	    console.log('deleting "'+col+'": '+mesg);
	    window.location = mesg;
	 },
	 error: function (xhr,staus,error) {
	    console.log('delete error: '+error);
	 }
      });
   });
   $('#cancel-btn').on('click', function () {
       window.location = '@ix.idg.controllers.routes.IDGApp.index';
   });
});
</script>