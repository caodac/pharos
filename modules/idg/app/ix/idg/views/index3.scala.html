@(title: String, diseases: Int, targets: Int, ligands: Int)

<!DOCTYPE html>

<html>
  <head>
    <!--[if lte IE 9]>
	<style type="text/css">
#ie6msg{border:3px solid #c33; margin:8px 0; background:#fcc; color:#000;}
#ie6msg h4{margin:8px; padding:0;}
#ie6msg p{margin:8px; padding:0;}
#ie6msg p a.getie7{font-weight:bold; color:#006;}
#ie6msg p a.ie6expl{font-weight:bold; color:#006;}
</style>
	<div id="ie6msg">
	  <h4>Did you know that your browser is out of date?</h4>
	  <p>To get the best possible experience using this website it is recommended that you upgrade your browser to a newer version.
	  <p>You could also try some other popular browsers like <a class="ie6expl" href="http://mozilla.com">FireFox</a> or
	    <a class="ie6expl" href="https://www.google.com/chrome/S">Chrome</a>.</p>
	</div>
	<![endif]-->

    <title>Pharos: @title</title>
    <meta name=viewport content="width=device-width, initial-scale=1">    
    <link rel="stylesheet" media="screen" href="@routes.Assets.versioned("ncats/css/tox21.css")">
    <link rel="shortcut icon" type="image/png" href="@routes.Assets.versioned("images/favicon.png")">
    <link href='@routes.WebJarAssets.at(WebJarAssets.locate("css/bootstrap.min.css"))' rel='stylesheet' >
    <link rel="stylesheet" type="text/css"
	  href='@routes.WebJarAssets.at(WebJarAssets.locate("font-awesome.min.css"))'>
    <link type="text/css" rel="stylesheet" href='@routes.Assets.versioned("css/multiple.css")'/>
    <link type="text/css" rel="stylesheet" href='@routes.Assets.versioned("css/screen.css")'/>
    <link type="text/css" rel="stylesheet" href='@routes.Assets.versioned("stylesheets/main.css")'/>
    <script src='@routes.WebJarAssets.at(WebJarAssets.locate("jquery.min.js"))' type='text/javascript' ></script>
    <script src='@routes.WebJarAssets.at(WebJarAssets.locate("bootstrap.min.js"))' type='text/javascript' ></script>
    <script src='@routes.WebJarAssets.at(WebJarAssets.locate("respond.js"))' type='text/javascript'></script>
    <script src='@routes.WebJarAssets.at(WebJarAssets.locate("typeahead.bundle.min.js"))'></script>
    <script src='@routes.WebJarAssets.at(WebJarAssets.locate("handlebars.min.js"))'></script>
    <script src='@routes.WebJarAssets.at(WebJarAssets.locate("bloodhound.min.js"))'></script>
    <script src='@routes.Assets.versioned("javascripts/multiple.js")'></script>
    <script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-53774738-1', 'auto');
ga('send', 'pageview');
    </script>

    @ix.ncats.views.html.typeahead(Array("Target","Disease","Ligand","UniProt_Gene","OMIM_Gene","OMIM_Term","UniProt_Shortname","IMPC_Term","UniProt_Disease","MGI_Term","IDG_Drug","UniProt_Keyword","UniProt_Accession"))
    <style type="text/css">
      .twitter-typeahead {
          position: relative;
          display: -webkit-box !important;
          direction: ltr;
      }
      @@-moz-document url-prefix() {
        .twitter-typeahead { display: flex !important; }
      }
      #scrollable-dropdown-menu .tt-dropdown-menu {
         background-color: rgba(128, 128, 128, .9);
         overflow-y: auto;
         max-height: 400px;
         text-align: left;
         padding: 5px 10px;
      }
    </style>
  </head>
  <body style="background:white">
      <div class="site-wrapper">
	<div class="site-wrapper-inner">
	  <div class="container-fluid">
	    <div class="row separate-boxes">
	      <div class="box light item box-w25perc border-bottom pull-right">
		<div class="content" id="box-1">
		  <div class="content-sup-text">
		    <span id="box-1-name"></span>
		  </div>
		  <div class="content-main-text">
		    <span class="content-accent" id="box-1-count"></span>
		    <span class="content-suffix" id="box-1-total"></span>
		  </div>
		  <div class="content-sub-text">
		    <span id="box-1-term"></span>
		  </div>
		</div>
	      </div>
	      
	      <div class="box light item box-w25perc border-bottom pull-right">
		<div class="content" id="box-2">
		  <div class="content-sup-text">
		    <span id="box-2-name"></span>
		  </div>
		  <div class="content-main-text">
		    <span class="content-accent" id="box-2-count"></span>
		    <span class="content-suffix" id="box-2-total"></span>
		  </div>
		  <div class="content-sub-text">
		    <span id="box-2-term"></span>
		  </div>
		</div>
	      </div>

	      <div class="box light item box-w25perc border-bottom pull-right">
		<div class="content" id="box-3">
		  <div class="content-sup-text">
		    <span id="box-3-name"></span>
		  </div>
		  <div class="content-main-text">
		    <span class="content-accent" id="box-3-count"></span>
		    <span class="content-suffix" id="box-3-total"></span>
		  </div>
		  <div class="content-sub-text">
		    <span id="box-3-term"></span>
		  </div>
		</div>
	      </div>

	      <div class="box light item box-w25perc border-bottom pull-right">
		<div class="content" id="box-4">
		  <div class="content-sup-text">
		    <span id="box-4-name"></span>
		  </div>
		  <div class="content-main-text">
		    <span class="content-accent" id="box-4-count"></span>
		    <span class="content-suffix" id="box-4-total"></span>
		  </div>
		  <div class="content-sub-text">
		    <span id="box-4-term"></span>
		  </div>
		</div>
	      </div>

	    </div>
	    <div class="inner cover">
	      <div class="row">
		<div class="col-sm-4 col-md-4 col-md-offset-1">
		  <img class="img-responsive pull-right" height="200" alt="Pharos Logo" 
		       src='@routes.Assets.versioned("ncats/images/Pharos_Logo_Rd8.svg")'
		       class = "img-responsive" id="pharos"/>
		</div>
	      </div>
	      <div class="row">
		<div class="col-sm-8 col-md-6 col-md-offset-3 col-sm-offset-2">
		  <form class="main-search" role="search" method="GET"
			action="@ix.idg.controllers.routes.IDGApp.search(null)">
		    <div class="input-group" id="scrollable-dropdown-menu">
		      <input type="text" class="form-control typeahead" id="search"
			     title="Search" placeholder="Search for targets (e.g., 'ITK') or diseases (e.g., 'asthma')" name="q">
		      <span class="input-group-btn">
			<button class="btn btn-default" id="search" type="search"
				value="submit">
			  <span class="fa fa-search"></span>
			</button>
		      </span>
		    </div>
		  </form>
		  <ol class="breadcrumb pull-right" style="background:white">
		    <li><a class="navbar-link"
			   href="@ix.idg.controllers.routes.DTOHier.dto(null)">Explore</a>
		    <li><a class="navbar-link"
			   href="@ix.idg.controllers.routes.IDGApp.targets(null, 10, 1)">Browse</a></li>		    
		    <li><a class="navbar-link"
			   href="@ix.idg.controllers.routes.IDGApp.targetfacets(null)">Filters</a></li>
		    <li><a class="navbar-link"
			   href="@ix.idg.controllers.routes.IDGApp.about()">About</a></li>
		    <li><a class="navbar-link"
			   data-trigger="click"
			   data-target="#help-panel"
			   data-toggle="collapse" href="#">Help</a>
		    </li>
		  </ol>
		</div>
	      </div>
	      <div class="row">
		<div class="col-sm-8 col-md-6 col-md-offset-3 col-sm-offset-2">
		  <div id="help-panel" class="collapse list-group">
		    <a class="list-group-item" href="@ix.idg.controllers.routes.IDGApp.help">General information</a>
		    <a class="list-group-item" href="@ix.idg.controllers.routes.IDGApp.faq">Frequently asked questions</a>
		    <a class="list-group-item" href="https://www.youtube.com/channel/UCr5BtMcSjL7C4jwCEJOCKGg" target="_blank">Video tutorials</a>
		    <a class="list-group-item" href="@ix.idg.controllers.routes.IDGApp.about">About</a>
			<a class="list-group-item" href="@ix.idg.controllers.routes.IDGApp.api">API</a>

		  </div>
		</div>
	      </div>
	      <div class="row">
		<div class="col-sm-8 col-md-6 col-md-offset-3 col-sm-offset-2">
		  <div id="getting-started" class="collapse panel panel-default">
		    <div class="panel-body">
		      <div class="pull-center embed-responsive embed-responsive-4by3">
			<iframe id="getting-started-iframe"
				sandbox="allow-scripts allow-forms allow-same-origin allow-popups allow-top-navigation allow-popups-to-escape-sandbox allow-modals"
				class="embed-responsive-item"
				src="https://www.youtube.com/embed/rAu6D0-Fanw"
				allowfullscreen><p>Sorry, your browser does not support <code>iframe</code>
			</iframe>
		      </div>
		    </div>
		  </div>
		</div>
	      </div>
	    </div>
	    <div class="row separate-boxes">

	      <div class="box light item box-w25perc border-bottom pull-left">
		<div class="content" id="box-5">
		  <div class="content-sup-text">
		    <span id="box-5-name"></span>
		  </div>
		  <div class="content-main-text">
		    <span class="content-accent" id="box-5-count"></span>
		    <span class="content-suffix" id="box-5-total"></span>
		  </div>
		  <div class="content-sub-text">
		    <span id="box-5-term"></span>
		  </div>
		</div>
	      </div>

	      <div class="box light item box-w25perc border-bottom pull-left">
		<div class="content" id="box-6">
		  <div class="content-sup-text">
		    <span id="box-6-name"></span>
		  </div>
		  <div class="content-main-text">
		    <span class="content-accent" id="box-6-count"></span>
		    <span class="content-suffix" id="box-6-total"></span>
		  </div>
		  <div class="content-sub-text">
		    <span id="box-6-term"></span>
		  </div>
		</div>
	      </div>

	      <div class="box light item box-w25perc border-bottom pull-left">
		<div class="content" id="box-7">
		  <div class="content-sup-text">
		    <span id="box-7-name"></span>
		  </div>
		  <div class="content-main-text">
		    <span class="content-accent" id="box-7-count"></span>
		    <span class="content-suffix" id="box-7-total"></span>
		  </div>
		  <div class="content-sub-text">
		    <span id="box-7-term"></span>
		  </div>
		</div>
	      </div>

	      <div class="box light item box-w25perc border-bottom pull-left">
		<div class="content" id="box-8">
		  <div class="content-sup-text">
		    <span id="box-8-name"></span>
		  </div>
		  <div class="content-main-text">
		    <span class="content-accent" id="box-8-count"></span>
		    <span class="content-suffix" id="box-8-total"></span>
		  </div>
		  <div class="content-sub-text">
		    <span id="box-8-term"></span>
		  </div>
		</div>
	      </div>
	      
            </div>
          </div>
	</div>
      </div>	
      <div id="footer">
	<code>Build: @ix.BuildInfo.TIME (commit: <a href="https://spotlite.nih.gov/ncats/pharos/tree/@ix.BuildInfo.COMMIT">@ix.BuildInfo.COMMIT</a><span id="uptime"></span>)</code>
      </div>
  </body>  
</html>

<script>
var loaded;

function reload () {
     $.get('@ix.ncats.controllers.routes.App.getUptime', function (d) {
        $('#uptime').html(', uptime: '+d.hour+'h '+d.minute+'m');
     });

     $.get('@ix.idg.controllers.routes.IDGApp.sampleTermValues(8)', function(d) {
         for (var i = 1; i <= 8; ++i) {
	    var j = i-1;
	    $('#box-'+i+'-name').html('<a style="color:white;font-weight:bold;" href="'+d[j].url+'">'+d[j].name+'</a>');
	    $('#box-'+i+'-count').html(d[j].count+'<span class="content-accent-helper"></span>');
	    $('#box-'+i+'-total').html(d[j].total);
            if (d[j].term.length > 20) {
	       $('#box-'+i+'-term').html(d[j].field+':<br><span data-toggle="tooltip" data-trigger="hover" data-title="'+d[j].term+'">'+d[j].term.substring(0,20)+'...</span>');
            } else {
	       $('#box-'+i+'-term').html(d[j].field+':<br>'+d[j].term);
            }
	 }
         $('[data-toggle="tooltip"]').tooltip();
     });
}


$(document).ready(function () {
  $('[data-toggle="popover"]').popover();
  $('[data-toggle="tooltip"]').tooltip();

  if (!loaded) {
     loaded = true;
     reload ();
  }
  
  setInterval (reload, 60000);

  var multiple = new Multiple({
     selector: '.item',
     opacity: 0.9,
     gradient: 'radial-gradient(45% center, circle, rgb(39, 184, 196) 40%, rgb(178,194,140))',
     // ripping this image from https://commonfund.nih.gov/sites/default/files/101388260.jpg
     background: 'url(@routes.Assets.versioned("images/101388260.jpg"))'
  });
});
</script>
